import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.Q8oxx_T8.js";function C({title:h,url:i}){const f=()=>{const a=`https://twitter.com/intent/tweet?text=${encodeURIComponent(h)}&url=${encodeURIComponent(i)}`;window.open(a,"_blank","width=550,height=420")},c=()=>{const a=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(i)}`;window.open(a,"_blank","width=550,height=420")},u=async()=>{try{await navigator.clipboard.writeText(i),alert("Link copied to clipboard!")}catch(a){console.error("Failed to copy: ",a)}};return e.jsxs("div",{className:"flex items-center space-x-4 justify-around bg-white border border-gray-200 rounded-lg p-4 shadow-sm transition-shadow duration-300 hover:shadow-md",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Share"}),e.jsx("button",{onClick:f,className:"text-gray-400 hover:text-blue-500 transition-colors cursor-pointer","aria-label":"Share on Twitter",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-blue-700 transition-colors cursor-pointer","aria-label":"Share on LinkedIn",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer","aria-label":"Copy link",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}function H(){const[h,i]=d.useState([]),[f,c]=d.useState(""),u=d.useRef(null),a=d.useRef(null),b=d.useRef(null),v=d.useRef({}),N=()=>{if(b.current&&a.current){const n=a.current,o=b.current,s=n.getBoundingClientRect(),g=o.getBoundingClientRect(),t=g.top<s.top,m=g.bottom>s.bottom;if(t||m){n.scrollTop;const r=o.offsetTop,l=n.clientHeight,p=o.clientHeight,x=r-l/2+p/2;n.scrollTo({top:Math.max(0,x),behavior:"smooth"})}}};d.useEffect(()=>{f&&setTimeout(N,100)},[f]),d.useEffect(()=>{u.current&&u.current.disconnect(),v.current={};const n=document.querySelector("article");if(!n){console.warn("No <article> element found");return}const o=n.querySelectorAll("h1, h2, h3, h4"),s=Array.from(o).map((t,m)=>{const r=t.id||`heading-${m}`;return t.id||(t.id=r),{id:r,text:t.textContent||"",level:Number.parseInt(t.tagName.charAt(1)),element:t}});return i(s),u.current=new IntersectionObserver(t=>{t.forEach(l=>{v.current[l.target.id]=l});const r=Object.values(v.current).filter(l=>l.isIntersecting);if(r.length>0){const l=[...r].sort((p,x)=>{const j=s.findIndex(w=>w.id===p.target.id),k=s.findIndex(w=>w.id===x.target.id);return j-k});c(l[0].target.id)}else{const l=window.scrollY,p=s.filter(x=>x.element.getBoundingClientRect().top+window.scrollY<=l+100);if(p.length>0){const x=p[p.length-1];c(x.id)}else s.length>0&&c(s[0].id)}},{root:null,rootMargin:"-80px 0px -80% 0px",threshold:[0,.25,.5,.75,1]}),s.forEach(t=>{t.element&&u.current?.observe(t.element)}),setTimeout(()=>{const t=window.scrollY,m=s.filter(r=>r.element.getBoundingClientRect().top+window.scrollY<=t+100);if(m.length>0){const r=m[m.length-1];c(r.id)}else s.length>0&&c(s[0].id)},100),()=>{u.current&&u.current.disconnect()}},[]);const y=n=>{const o=document.getElementById(n);if(o){const t=o.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:t,behavior:"smooth"}),c(n)}};return h.length===0?null:e.jsx("div",{ref:a,className:"max-h-[60vh] overflow-y-auto space-y-0.5 scrollbar-thin scrollbar-thumb-purple-600 scrollbar-track-transparent toc-scrollbar",children:h.map(n=>{const o=f===n.id,s=n.level===2,g=n.level===3,t=n.level>=4;return e.jsx("button",{ref:o?b:null,onClick:()=>y(n.id),className:`block w-full text-left transition-all duration-300 rounded-md py-2 px-2 ${o?"bg-purple-50":"hover:bg-gray-50"}`,children:e.jsx("div",{className:`flex items-center transition-all duration-300 ${o?"text-purple-600 font-medium border-l-3 border-purple-600 pl-3":"text-gray-600 hover:text-gray-900 border-l-3 border-transparent"} ${s?"pl-2 text-sm":g?"pl-6 text-xs":t?"pl-10 text-xs":""}`,children:e.jsx("span",{className:"block truncate leading-relaxed",children:n.text})})},n.id)})})}function I({url:h,article:i}){return e.jsx("section",{className:"sticky top-16 py-2",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(C,{title:i,url:h}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm transition-shadow duration-300 hover:shadow-md",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide",children:"Table of Contents"}),e.jsx(H,{})]})]})})}function S({url:h,article:i}){const[f,c]=d.useState("");return e.jsxs("aside",{className:"space-y-8 overflow-clip hidden md:block flex-grow-0 flex-shrink-0 w-80",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg p-6 text-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white rounded mr-2 flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-bold text-sm",children:"P"})}),e.jsx("span",{className:"font-semibold",children:"Plexicus"})]}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ASPM Provider"}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-2"}),e.jsx("span",{children:"Open-source blog alternative"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-2"}),e.jsx("span",{children:"For both B2B and B2C use cases"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-2"}),e.jsx("span",{children:"Free plan up to 50k MAU"})]})]}),e.jsx("a",{className:"cursor-pointer",href:"https://covulor.plexicus.com/register",children:e.jsx("button",{className:"w-full bg-white text-purple-600 py-2 px-4 rounded-md text-sm font-medium hover:bg-gray-50 transition-colors",children:"Sign up today"})})]}),e.jsx(I,{url:h,article:i})]})}export{S as default};
